!function(){var e,o,t=eouluGlobal.S_getBrowserType(),l=_.toUpper(t[0]);if(eouluGlobal.C_setBrowser(_.cloneDeep(t)),_.isEqual(l,"IE")||_.isEqual(l,"IE11")){if(t[1]<9)return eouluGlobal.S_getSwalMixin()({title:"IE版本过低",text:"请下载高版本",type:"warning",showCancelButton:!1,timer:3e3}).then(function(){window.location.href="https://support.microsoft.com/zh-cn/help/17621"});e=eouluGlobal.S_URLParser({iurl:window.location.href});var a=document.documentElement.clientHeight<600?600:document.documentElement.clientHeight;$("body").css({"-ms-grid-rows":"40px "+(a-40)+"px"}),eouluGlobal.C_setPageAllConfig({path:"futureDT2.scrollBarWidth",value:17})}else e=new URL(window.location.href),_.isEqual(_.toUpper(eouluGlobal.S_getBrowser()[0]),"CHROME")?eouluGlobal.C_setPageAllConfig({path:"futureDT2.scrollBarWidth",value:7}):eouluGlobal.C_setPageAllConfig({path:"futureDT2.scrollBarWidth",value:17});o=/^\//.test(e.pathname)?e.pathname.split("/")[1]:e.pathname.split("/")[0];var n=eouluGlobal.S_getLoginHref();_.isNil(o)||_.isEmpty(o)?window.location.assign(n):eouluGlobal.C_setProjectName(o);var u=eouluGlobal.S_getCurPageHref(),i=store.get("futureDOnline__curUserName");if(!_.isEqual(u,n)){if(_.isNil($("body").data("curusername"))||_.isEmpty($("body").data("curusername")))return eouluGlobal.S_settingURLParam({},!1,!1,!1,n);_.isNil(i)||_.isEmpty(i)||eouluGlobal.C_setCurUserName(i);var r=$("body").data("userauthority");if(_.isNil(r)||_.isEmpty(r)||_.isEqual(r,"[]")){if(-1==_.indexOf(eouluGlobal.S_getExcludeJudgeAuthorityPage(),u))return eouluGlobal.S_settingURLParam({},!1,!1,!1,n)}else{var s=r.replace(/^\[/,"").replace(/\]$/,"").split(", ");if(3==s.length){var c,f=[],m=s[0].split(","),d=s[1].split(","),g=s[2].split(",");_.forEach(m,function(e,o){var t={};t.name=e,t.value=_.toNumber(g[o]),t.url=d[o],f.push(t)}),c=-1<_.indexOf(eouluGlobal.S_getAllAuthorityPage(),u)?"ALL":null,eouluGlobal.C_setCurPageJudgedAuthority(eouluGlobal.S_pageReturnAuthorityHandler({objec:{page:c},userAuthorityObj:f}))}}}jQuery.ajaxSetup({cache:!1,beforeSend:function(e){console.warn("ajaxSetup, 局部事件beforeSend")},success:function(){console.warn("ajaxSetup, 局部事件success")},error:function(){console.warn($("body").data("iglobalerror")),"allow"!=$("body").data("iglobalerror")&&eouluGlobal.C_server500Message({callback:null})}}),$(document).ajaxError(function(e,o,t,l){console.warn("document上的ajaxError")}).ajaxSend(function(e,o,t){console.warn("document上的ajaxSend")}),$(document).on("click",".g_info_r img[data-iicon='glyphicon-off']",function(){eouluGlobal.S_getSwalMixin()({title:"确定退出吗？",text:"此操作为安全退出",type:"warning",showCancelButton:!0,confirmButtonText:"确定，退出！",cancelButtonText:"不，取消！",reverseButtons:!1}).then(function(e){e.value?$.ajax({type:"GET",url:"Logon",dataType:"json"}).then(function(e){"OK"==e?eouluGlobal.S_getSwalMixin()({title:"提示",text:"退出成功",type:"info",showConfirmButton:!1,timer:1e3}).then(function(){store.remove("futureDOnline__curUserName"),eouluGlobal.S_settingURLParam({},!1,!1,!1,n)}):eouluGlobal.S_getSwalMixin()({title:"提示",text:"退出失败",type:"info",showConfirmButton:!1,timer:1500})}):e.dismiss==swal.DismissReason.backdrop||e.dismiss==swal.DismissReason.esc||(e.dismiss,swal.DismissReason.cancel)})}),$(document).on("click",".g_info_r .Information",function(){eouluGlobal.S_getSwalMixin()({title:"提示",text:"功能暂未添加，敬请期待！",type:"info",showConfirmButton:!1,timer:2e3})}),$(document).on("click",".g_info_r .AdminOperat",function(){eouluGlobal.S_settingURLParam({},!1,!1,!1,"UserInstall")}),$(".g_info_r .curusername").text($("body").data("curusername"))}();