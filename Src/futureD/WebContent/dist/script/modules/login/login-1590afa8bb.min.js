function login_prompt(e){var t=e.title,i=e.text,n=e.type;eouluGlobal.S_getSwalMixin()({title:t,text:i,type:n,showConfirmButton:!1,timer:1e3}).then(function(t){t.dismiss!=swal.DismissReason.backdrop&&t.dismiss!=swal.DismissReason.esc&&t.dismiss!=swal.DismissReason.timer||_.isFunction(e.callback)&&e.callback()})}$("span.glyphicon.form-control-feedback").click(function(){var t=$(this).prev().children("input");if(""==t.val())return!1;t.is("#login_user")?t.val(""):t.is("#login_password")&&($(this).is(".glyphicon-eye-open")?t.attr("type","text"):$(this).is(".glyphicon-eye-close")&&t.attr("type","password"),$(this).toggleClass("glyphicon-eye-open glyphicon-eye-close"))}),$("#login_user, #login_password").on("input propertychange change",function(){""!=$("#login_user").val().trim()&&""!=$("#login_password").val().trim()?$(".button_div>button").removeClass("btn-default").addClass("btn-primary").prop("disabled",!1):$(".button_div>button").removeClass("btn-primary").addClass("btn-default").prop("disabled",!0)}).on("keyup",function(t){""!=$("#login_user").val().trim()&&""!=$("#login_password").val().trim()&&(13==(t.keyCode||t.which||t.charCode)&&$(".button_div>button").trigger("click"))}),$(".button_div>button").click(function(){var e=$("#login_user").val().trim(),t=$("#login_password").val().trim();if(_.isEmpty(e)||_.isEmpty(t))return!1;var i=$(this);eouluGlobal.C_btnDisabled(i,!0,"登陆中..."),$.ajax({type:"POST",url:"Login",data:{userName:e,password:t,loginStatus:$(".save_login_div>input").is(":checked")},dataType:"json"}).then(function(t){_.isEqual(t,"success")?login_prompt({title:"温馨提示",text:"登录成功！正在跳转",type:"success",callback:function(){try{$(".save_login_div>input").is(":checked")?window.sessionStorage.setItem("futureDT2Online__login_"+e+"_safe","safe"):window.sessionStorage.setItem("futureDT2Online__login_"+e+"_safe","none")}catch(t){login_prompt({title:"温馨提示",text:"您的浏览器不支持sessionStorage，无法启用安全模式",type:"info"})}localStorage.removeItem("eoulu_projectAnalysis_select_id"),localStorage.removeItem("eoulu_projectAnalysis_select_item"),store.set("futureDOnline__curUserName",e),eouluGlobal.C_btnDisabled(i,!0,"正在跳转..."),window.location.assign("HomeInterface")}}):_.isEqual(t,"fail")?login_prompt({title:"温馨提示",text:"登录失败！用户名或密码错误",type:"warning",callback:function(){eouluGlobal.C_btnAbled(i,!0,"登录")}}):login_prompt({title:"温馨提示",text:"网络繁忙，请稍后操作！",type:"warning",callback:function(){eouluGlobal.C_btnAbled(i,!0,"登录")}})},function(){login_prompt({title:"温馨提示",text:"网络繁忙，请稍后操作！",type:"warning",callback:function(){eouluGlobal.C_btnAbled(i,!0,"登录")}})})}),history.pushState(null,null,document.URL),window.addEventListener("popstate",function(){history.pushState(null,null,document.URL)});